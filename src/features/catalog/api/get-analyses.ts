import { Analysis } from "@/types/analysis";

const MOCK_DATA: Analysis[] = [
    {
        id: "1",
        article: "15.105",
        name: "Клинический анализ крови: общий анализ, лейкоформула, СОЭ",
        price: 690,
        time: "1 день",
        category: "popular",
        biomaterial: "Венозная кровь",
        method: "Проточная цитофлуометрия, капиллярная микрофотометрия",
        description: "Клинический анализ крови (КАК) — это одно из самых распространенных лабораторных исследований, которое используется для оценки общего состояния здоровья. Он включает в себя определение количества эритроцитов, лейкоцитов, тромбоцитов, уровня гемоглобина и скорости оседания эритроцитов (СОЭ).",
        preparation: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Кровь рекомендуется сдавать утром (в период с 8 до 11 часов), натощак (не менее 8 и не более 14 часов голодания, воду пить можно).</li>
                <li>Накануне избегать пищевых перегрузок.</li>
                <li>Исключить физическое и эмоциональное перенапряжение и не курить 30 минут до сдачи крови.</li>
            </ul>
        `,
        interpretation: `
            <p>Результаты анализа должны интерпретироваться врачом. Отклонение показателей от нормы может свидетельствовать о наличии воспалительных процессов, анемии, инфекционных заболеваний и других патологий.</p>
        `,
        indications: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Подозрение на инфекционно-воспалительные заболевания.</li>
                <li>Профилактическое обследование.</li>
                <li>Мониторинг проводимой терапии.</li>
            </ul>
        `,
        synonyms: "Клинический анализ крови, Complete Blood Count (CBC) with Differential, ESR, Общий анализ крови с лейкоцитарной формулой и СОЭ, ОАК, клинический анализ крови, общеклинический анализ крови, ОАК, КАК",
        relatedIds: ["4", "5"],
        biomaterialPrice: 150
    },
    {
        id: "2",
        article: "22.101",
        name: "Витамин D, 25-OH (кальциферол)",
        price: 1990,
        time: "1 день",
        category: "vitamins",
        biomaterial: "Венозная кровь",
        method: "Хемилюминесцентный иммуноанализ",
        description: "Исследование уровня витамина D в крови, необходимого для усвоения кальция и фосфора, а также для поддержания иммунитета.",
        preparation: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Не курить в течение 30 минут до исследования.</li>
                <li>Можно сдавать кровь в течение дня, не ранее, чем через 3 часа после приема пищи или утром натощак.</li>
                <li>Рекомендуется исключить прием витамина D за 3-4 дня до исследования (по согласованию с врачом).</li>
            </ul>
        `,
        interpretation: `
            <p>Нормальный уровень витамина D: 30-100 нг/мл. Недостаточность: 20-30 нг/мл. Дефицит: менее 20 нг/мл.</p>
            <p>Низкий уровень может указывать на риск остеопороза, мышечной слабости, снижения иммунитета. Повышенный уровень может свидетельствовать об избыточном приеме витамина D.</p>
        `,
        indications: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Диагностика дефицита витамина D.</li>
                <li>Остеопороз.</li>
                <li>Контроль терапии препаратами витамина D.</li>
            </ul>
        `,
        synonyms: "Витамин Д, 25-гидроксивитамин D, 25-OH vitamin D, Calcidiol, 25-hydroxycalciferol",
        relatedIds: ["1", "4", "5"],
        biomaterialPrice: 350
    },
    {
        id: "3",
        article: "31.002",
        name: "Тиреотропный гормон (ТТГ)",
        price: 550,
        time: "1 день",
        category: "hormones",
        biomaterial: "Венозная кровь",
        method: "Иммунохемилюминесцентный анализ",
        description: "Основной регулятор функции щитовидной железы. Используется для скрининга дисфункций щитовидной железы.",
        preparation: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Кровь сдавать строго натощак (не менее 8 часов голодания).</li>
                <li>Исключить прием гормональных препаратов (по согласованию с врачом) за 48 часов до исследования.</li>
                <li>Избегать физических и эмоциональных нагрузок за 24 часа до анализа.</li>
                <li>Не курить минимум 3 часа до сдачи крови.</li>
            </ul>
        `,
        interpretation: `
            <p>Референсные значения ТТГ: 0,4-4,0 мМЕ/л. Повышенный уровень ТТГ может указывать на гипотиреоз (сниженную функцию щитовидной железы).</p>
            <p>Пониженный уровень ТТГ может свидетельствовать о гипертиреозе (повышенной функции щитовидной железы) или передозировке тиреоидных гормонов.</p>
        `,
        indications: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Подозрение на гипер- или гипотиреоз.</li>
                <li>Контроль лечения заболеваний щитовидной железы.</li>
                <li>Обследование при бесплодии, аменорее.</li>
            </ul>
        `,
        synonyms: "ТТГ, TSH, Thyroid Stimulating Hormone, Тиротропин, Тиреотропин",
        relatedIds: ["1", "2", "4"],
        biomaterialPrice: 200
    },
    {
        id: "4",
        article: "40.120",
        name: "Глюкоза (в крови)",
        price: 280,
        time: "1 день",
        category: "biochemistry",
        biomaterial: "Венозная кровь",
        method: "Гексокиназный метод",
        description: "Основной тест для диагностики сахарного диабета и контроля уровня сахара в крови.",
        preparation: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Строго натощак (не менее 8 часов и не более 14 часов голодания).</li>
                <li>Воду пить можно, но исключить сладкие напитки.</li>
                <li>Избегать физических нагрузок и стрессов за 30 минут до сдачи крови.</li>
                <li>Не курить минимум 30 минут до анализа.</li>
            </ul>
        `,
        interpretation: `
            <p>Нормальный уровень глюкозы натощак: 3,9-5,5 ммоль/л. Преддиабет (нарушенная гликемия натощак): 5,6-6,9 ммоль/л.</p>
            <p>Сахарный диабет: 7,0 ммоль/л и выше при двух измерениях. Гипогликемия (низкий уровень сахара): менее 3,9 ммоль/л.</p>
        `,
        indications: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Диагностика и мониторинг сахарного диабета.</li>
                <li>Ожирение.</li>
                <li>Беременность.</li>
            </ul>
        `,
        synonyms: "Глюкоза крови, Сахар крови, Blood glucose, Glucose, Fasting blood sugar",
        relatedIds: ["1", "2", "5"],
        biomaterialPrice: 100
    },
    {
        id: "5",
        article: "11.200",
        name: "Ферритин",
        price: 850,
        time: "1 день",
        category: "biochemistry",
        biomaterial: "Венозная кровь",
        method: "Иммунотурбидиметрия",
        description: "Показатель запасов железа в организме. Важен для диагностики анемии.",
        preparation: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Кровь сдавать натощак (не менее 8 часов голодания).</li>
                <li>Исключить физические нагрузки и спортивные тренировки за 24 часа до исследования.</li>
                <li>Избегать стрессовых ситуаций накануне анализа.</li>
                <li>Не курить минимум 30 минут до сдачи крови.</li>
            </ul>
        `,
        interpretation: `
            <p>Референсные значения для мужчин: 20-250 мкг/л, для женщин: 10-120 мкг/л. Низкий уровень ферритина указывает на дефицит железа и железодефицитную анемию.</p>
            <p>Повышенный уровень может свидетельствовать о гемохроматозе, воспалительных процессах, заболеваниях печени или избыточном приеме железосодержащих препаратов.</p>
        `,
        indications: `
            <ul class="list-disc pl-5 space-y-2">
                <li>Диагностика и дифференциальная диагностика анемий.</li>
                <li>Скрытый дефицит железа.</li>
                <li>Оценка запасов железа в организме.</li>
            </ul>
        `,
        synonyms: "Ferritin, Железосвязывающий белок, Депонированное железо",
        relatedIds: ["1", "2", "4"],
        biomaterialPrice: 250
    }
];

export async function getAnalyses(city: string): Promise<Analysis[]> {
    await new Promise((resolve) => setTimeout(resolve, 500));
    return MOCK_DATA;
}

export async function getAnalysisById(id: string): Promise<Analysis | undefined> {
    await new Promise((resolve) => setTimeout(resolve, 1000));
    return MOCK_DATA.find((item) => item.id === id);
}

export async function getRelatedAnalyses(ids: string[]): Promise<Analysis[]> {
    await new Promise((resolve) => setTimeout(resolve, 300));
    return MOCK_DATA.filter(item => ids.includes(item.id));
}